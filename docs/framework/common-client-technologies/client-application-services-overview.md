---
title: 客户端应用程序服务概述
ms.date: 03/30/2017
helpviewer_keywords:
- client application services, classes
- client application services, about client application services
ms.assetid: f0a2da13-e282-4fd7-88a1-f9102c9aeab1
ms.openlocfilehash: fda9c47f6c446369e0cd774a61375a06825e772f
ms.sourcegitcommit: 586dbdcaef9767642436b1e4efbe88fb15473d6f
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/06/2018
ms.locfileid: "48836967"
---
# <a name="client-application-services-overview"></a><span data-ttu-id="8cca6-102">客户端应用程序服务概述</span><span class="sxs-lookup"><span data-stu-id="8cca6-102">Client Application Services Overview</span></span>
<span data-ttu-id="8cca6-103">使用客户端应用程序服务，可简便地从 Windows 窗体和 Windows Presentation Foundation (WPF) 应用程序访问 [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] 登录、角色和配置文件服务。</span><span class="sxs-lookup"><span data-stu-id="8cca6-103">Client application services provide simplified access to [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] login, roles, and profile services from Windows Forms and Windows Presentation Foundation (WPF) applications.</span></span> [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] <span data-ttu-id="8cca6-104">应用程序服务包含在 Microsoft ASP.NET 2.0 AJAX Extensions 中，而它又包含在 Visual Studio 2008 和 [!INCLUDE[net_v35_long](../../../includes/net-v35-long-md.md)] 中。</span><span class="sxs-lookup"><span data-stu-id="8cca6-104">application services are included in the Microsoft ASP.NET 2.0 AJAX Extensions, which is included with Visual Studio 2008 and the [!INCLUDE[net_v35_long](../../../includes/net-v35-long-md.md)].</span></span> <span data-ttu-id="8cca6-105">这些服务使多个基于 Web 和 Windows 的应用程序共享来自单个服务器的用户信息和用户管理功能。</span><span class="sxs-lookup"><span data-stu-id="8cca6-105">These services enable multiple Web and Windows-based applications to share user information and user-management functionality from a single server.</span></span>  
  
 <span data-ttu-id="8cca6-106">客户端应用程序服务包括插入至 Web 服务扩展性模型以启用基于 Windows 的应用程序的以下功能的客户端服务提供程序：</span><span class="sxs-lookup"><span data-stu-id="8cca6-106">Client application services include client service providers that plug into the Web services extensibility model to enable the following features for Windows-based applications:</span></span>  
  
-   <span data-ttu-id="8cca6-107">简单的客户端配置。</span><span class="sxs-lookup"><span data-stu-id="8cca6-107">Simple client configuration.</span></span> <span data-ttu-id="8cca6-108">可以使用 Visual Studio 项目设计器，或在项目的 App.config 文件中指定客户端服务提供程序，从而启用和配置登录、角色和配置文件服务。</span><span class="sxs-lookup"><span data-stu-id="8cca6-108">You can enable and configure the login, roles, and profile services by using the Visual Studio project designer or by specifying client service providers in your project's App.config file.</span></span> <span data-ttu-id="8cca6-109">有关详细信息，请参阅[如何：配置客户端应用程序服务](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md)。</span><span class="sxs-lookup"><span data-stu-id="8cca6-109">For more information, see [How to: Configure Client Application Services](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md).</span></span>  
  
-   <span data-ttu-id="8cca6-110">简单的可编程性。</span><span class="sxs-lookup"><span data-stu-id="8cca6-110">Simple programmability.</span></span> <span data-ttu-id="8cca6-111">启用和配置客户端应用程序服务后，可以通过现有的 [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)] 成员资格、角色和应用程序设置类来间接访问服务提供程序。</span><span class="sxs-lookup"><span data-stu-id="8cca6-111">After you have enabled and configured client application services, you can access the service providers indirectly through existing [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)] membership, roles, and application settings classes.</span></span> <span data-ttu-id="8cca6-112">也可以直接访问实现客户端应用程序服务的 [!INCLUDE[net_v35_long](../../../includes/net-v35-long-md.md)] 类。</span><span class="sxs-lookup"><span data-stu-id="8cca6-112">You can also directly access the [!INCLUDE[net_v35_long](../../../includes/net-v35-long-md.md)] classes that implement client application services.</span></span> <span data-ttu-id="8cca6-113">但是，在大多数情况下，没必要直接访问。</span><span class="sxs-lookup"><span data-stu-id="8cca6-113">However, in most cases, direct access is unnecessary.</span></span> <span data-ttu-id="8cca6-114">有关客户端应用程序服务类的详细信息，请参阅本主题的“客户端应用程序服务类”一节。</span><span class="sxs-lookup"><span data-stu-id="8cca6-114">For more information about the client application services classes, see the "Client Application Services Classes" section of this topic.</span></span>  
  
-   <span data-ttu-id="8cca6-115">脱机支持。</span><span class="sxs-lookup"><span data-stu-id="8cca6-115">Offline support.</span></span> <span data-ttu-id="8cca6-116">基于 Windows 的应用程序通常需要在偶尔连接的环境中运行。</span><span class="sxs-lookup"><span data-stu-id="8cca6-116">Windows-based applications often have to operate in occasionally connected environments.</span></span> <span data-ttu-id="8cca6-117">当你的应用程序处于联机状态时，客户端服务提供商将缓存服务器中检索而来的值，以供应用程序处于脱机状态时使用。</span><span class="sxs-lookup"><span data-stu-id="8cca6-117">When your application is online, the client service providers will cache values retrieved from the server for use when the application is offline.</span></span>  
  
-   <span data-ttu-id="8cca6-118">与 Visual Studio 应用程序设置设计器集成。</span><span class="sxs-lookup"><span data-stu-id="8cca6-118">Integration with the Visual Studio application settings designer.</span></span> <span data-ttu-id="8cca6-119">向 Visual Studio 项目添加设置时，可以指定哪些设置需要通过客户端设置服务提供程序进行访问。</span><span class="sxs-lookup"><span data-stu-id="8cca6-119">When you add settings to your project in Visual Studio, you can specify which settings are to be accessed through the client settings service provider.</span></span>  
  
 <span data-ttu-id="8cca6-120">以下章节对这些功能进行了详细介绍。</span><span class="sxs-lookup"><span data-stu-id="8cca6-120">The following sections describe these features in more detail.</span></span> <span data-ttu-id="8cca6-121">有关 [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] 应用程序服务的详细信息，请参阅 [ASP.NET 应用程序服务概述](https://msdn.microsoft.com/library/1162e529-0d70-44b2-b3ab-83e60c695013)。</span><span class="sxs-lookup"><span data-stu-id="8cca6-121">For more information about the [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] application services, see [ASP.NET Application Services Overview](https://msdn.microsoft.com/library/1162e529-0d70-44b2-b3ab-83e60c695013).</span></span>  
  
## <a name="authentication"></a><span data-ttu-id="8cca6-122">身份验证</span><span class="sxs-lookup"><span data-stu-id="8cca6-122">Authentication</span></span>  
 <span data-ttu-id="8cca6-123">你可以通过现有 [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] 身份验证服务，使用客户端应用程序服务来验证用户。</span><span class="sxs-lookup"><span data-stu-id="8cca6-123">You can use client application services to validate a user through an existing [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] authentication service.</span></span> <span data-ttu-id="8cca6-124">你可以通过使用 Windows 或Forms 身份验证来验证用户。</span><span class="sxs-lookup"><span data-stu-id="8cca6-124">You can validate a user by using Windows or forms authentication.</span></span> <span data-ttu-id="8cca6-125">Windows 身份验证表示用户标识是在用户登录到计算机或域时，由操作系统在提供的标识。</span><span class="sxs-lookup"><span data-stu-id="8cca6-125">Windows authentication means that the user identity is the one supplied by the operating system when a user logs on to a computer or domain.</span></span> <span data-ttu-id="8cca6-126">通常会在部署于公司 Intranet 上的应用程序中使用 Windows 身份验证。</span><span class="sxs-lookup"><span data-stu-id="8cca6-126">You will typically use Windows authentication with an application deployed on a corporate intranet.</span></span> <span data-ttu-id="8cca6-127">Forms 身份验证表示你必须将登录控件包括在应用程序内，并将所需的凭据传递给身份验证提供程序。</span><span class="sxs-lookup"><span data-stu-id="8cca6-127">Forms authentication means that you must include login controls in your application and pass the acquired credentials to the authentication provider.</span></span> <span data-ttu-id="8cca6-128">通常会在部署于 Internet 上的应用程序中使用 Forms 身份验证。</span><span class="sxs-lookup"><span data-stu-id="8cca6-128">You will typically use forms authentication with an application deployed on the Internet.</span></span>  
  
 <span data-ttu-id="8cca6-129">若要验证用户，请调用 `static` <xref:System.Web.Security.Membership.ValidateUser%2A?displayProperty=nameWithType> 方法。</span><span class="sxs-lookup"><span data-stu-id="8cca6-129">To validate a user, you call the `static` <xref:System.Web.Security.Membership.ValidateUser%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="8cca6-130">此方法访问为你的应用程序配置的客户端服务提供程序，并返回 <xref:System.Boolean> 值，该值指示用户是否有效。</span><span class="sxs-lookup"><span data-stu-id="8cca6-130">This method accesses the client service provider configured for your application and returns a <xref:System.Boolean> value indicating whether the user is valid.</span></span> <span data-ttu-id="8cca6-131">有关详细信息，请参阅[如何：使用客户端应用程序服务来实现用户登录](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md)。</span><span class="sxs-lookup"><span data-stu-id="8cca6-131">For more information, see [How to: Implement User Login with Client Application Services](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md).</span></span>  
  
 <span data-ttu-id="8cca6-132">使用 Windows 身份验证时，必须传递空字符串或 `null`，以作为 <xref:System.Web.Security.Membership.ValidateUser%2A> 方法的参数。</span><span class="sxs-lookup"><span data-stu-id="8cca6-132">When using Windows authentication, you must pass empty strings or `null` as the parameters of the <xref:System.Web.Security.Membership.ValidateUser%2A> method.</span></span> <span data-ttu-id="8cca6-133">使用 Windows 身份验证时，此方法调用将始终返回 `true`。</span><span class="sxs-lookup"><span data-stu-id="8cca6-133">When using Windows authentication, this method call will always return `true`.</span></span>  
  
 <span data-ttu-id="8cca6-134">利用 Forms 身份验证，<xref:System.Web.Security.Membership.ValidateUser%2A> 方法将返回一个值，该值指示远程服务是否已经对用户进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="8cca6-134">With forms authentication, the <xref:System.Web.Security.Membership.ValidateUser%2A> method will return a value indicating whether the remote service has authenticated the user.</span></span> <span data-ttu-id="8cca6-135">如果验证成功，将本地硬盘上存储身份验证 cookie。</span><span class="sxs-lookup"><span data-stu-id="8cca6-135">If validation is successful, an authentication cookie is stored on the local hard disk.</span></span> <span data-ttu-id="8cca6-136">访问角色和设置服务时，此 cookie 将用于确认验证。</span><span class="sxs-lookup"><span data-stu-id="8cca6-136">This cookie is used to confirm validation when accessing the roles and settings services.</span></span>  
  
 <span data-ttu-id="8cca6-137">使用 Forms 身份验证时，可以将用户名和密码传递到 <xref:System.Web.Security.Membership.ValidateUser%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="8cca6-137">When using forms authentication, you can pass a user name and password to the <xref:System.Web.Security.Membership.ValidateUser%2A> method.</span></span> <span data-ttu-id="8cca6-138">你还可以传递空字符串或 `null`，以作为使用凭据提供程序的参数。</span><span class="sxs-lookup"><span data-stu-id="8cca6-138">You can also pass empty strings or `null` as the parameters to use a credentials provider.</span></span> <span data-ttu-id="8cca6-139">凭据提供程序是在你的应用程序配置中提供并指定的类。</span><span class="sxs-lookup"><span data-stu-id="8cca6-139">A credentials provider is a class that you provide and specify in your application configuration.</span></span> <span data-ttu-id="8cca6-140">凭据提供程序类必须实现 <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider> 接口，该接口具有一个名为 <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider.GetCredentials%2A> 的方法 。</span><span class="sxs-lookup"><span data-stu-id="8cca6-140">A credentials provider class must implement the <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider> interface, which has a single method named <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider.GetCredentials%2A>.</span></span> <span data-ttu-id="8cca6-141">使用凭据提供程序，让你可以在多个应用程序间共享单点登录对话框。</span><span class="sxs-lookup"><span data-stu-id="8cca6-141">Using a credentials provider enables you to share a single login dialog box among multiple applications.</span></span> <span data-ttu-id="8cca6-142">有关详细信息，请参阅[如何：配置客户端应用程序服务](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md)。</span><span class="sxs-lookup"><span data-stu-id="8cca6-142">For more information, see [How to: Configure Client Application Services](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md).</span></span>  
  
 <span data-ttu-id="8cca6-143">配置应用程序以将凭据提供程序与 Forms 身份验证一起使用时，必须传递空字符串或 `null`，以作为 <xref:System.Web.Security.Membership.ValidateUser%2A> 方法的参数。</span><span class="sxs-lookup"><span data-stu-id="8cca6-143">When you configure your application to use a credentials provider with forms authentication, you must pass empty strings or `null` as the parameters of the <xref:System.Web.Security.Membership.ValidateUser%2A> method.</span></span> <span data-ttu-id="8cca6-144">服务提供程序将调用 <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider.GetCredentials%2A?displayProperty=nameWithType> 方法实现。</span><span class="sxs-lookup"><span data-stu-id="8cca6-144">The service provider will then call your <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider.GetCredentials%2A?displayProperty=nameWithType> method implementation.</span></span> <span data-ttu-id="8cca6-145">通常情况下，您将实现此方法以显示对话框并返回填充的 <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationCredentials> 对象。</span><span class="sxs-lookup"><span data-stu-id="8cca6-145">Typically, you will implement this method to display a dialog box and return a populated <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationCredentials> object.</span></span>  
  
 <span data-ttu-id="8cca6-146">有关身份验证的详细信息，请参阅 [ASP.NET 身份验证](https://msdn.microsoft.com/library/fc10b0ef-4ce4-4a7f-9174-886325221ee1)。</span><span class="sxs-lookup"><span data-stu-id="8cca6-146">For more information about authentication, see [ASP.NET Authentication](https://msdn.microsoft.com/library/fc10b0ef-4ce4-4a7f-9174-886325221ee1).</span></span> <span data-ttu-id="8cca6-147">有关如何设置 [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] 身份验证服务的信息，请参阅[将 Forms 身份验证用于 Microsoft Ajax](https://msdn.microsoft.com/library/c50f7dc5-323c-4c63-b4f3-96edfc1e815e)。</span><span class="sxs-lookup"><span data-stu-id="8cca6-147">For information about how to set up the [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] authentication service, see [Using Forms Authentication with Microsoft Ajax](https://msdn.microsoft.com/library/c50f7dc5-323c-4c63-b4f3-96edfc1e815e).</span></span>  
  
## <a name="roles"></a><span data-ttu-id="8cca6-148">角色</span><span class="sxs-lookup"><span data-stu-id="8cca6-148">Roles</span></span>  
 <span data-ttu-id="8cca6-149">可以使用客户端应用程序服务从现有 [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] 角色服务中检索角色信息。</span><span class="sxs-lookup"><span data-stu-id="8cca6-149">You can use client application services to retrieve role information from an existing [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] roles service.</span></span> <span data-ttu-id="8cca6-150">若要确定经过身份验证的当前用户是否属于特定角色，请调用 `static` <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> 属性中 <xref:System.Security.Principal.IPrincipal> 引用的 <xref:System.Security.Principal.IPrincipal.IsInRole%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="8cca6-150">To determine whether the current, authenticated user is in a particular role, you call the <xref:System.Security.Principal.IPrincipal.IsInRole%2A> method of the <xref:System.Security.Principal.IPrincipal> reference retrieved from the `static` <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="8cca6-151"><xref:System.Security.Principal.IPrincipal.IsInRole%2A> 方法将角色名称作为参数，并返回 <xref:System.Boolean> 值以指示当前用户是否为指定角色。</span><span class="sxs-lookup"><span data-stu-id="8cca6-151">The <xref:System.Security.Principal.IPrincipal.IsInRole%2A> method takes the role name as a parameter and returns a <xref:System.Boolean> value indicating whether the current user is in the specified role.</span></span> <span data-ttu-id="8cca6-152">如果用户未经过身份验证或不在指定的角色，则此方法将返回 `false`。</span><span class="sxs-lookup"><span data-stu-id="8cca6-152">This method will return `false` if the user is not authenticated or is not in the specified role.</span></span>  
  
 <span data-ttu-id="8cca6-153">有关如何设置 [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] 角色服务的信息，请参阅[将角色信息用于 Microsoft Ajax](https://msdn.microsoft.com/library/280f6ad9-ba1a-4fc9-b0cc-22e39e54a82d)。</span><span class="sxs-lookup"><span data-stu-id="8cca6-153">For information about how to set up the [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] roles service, see [Using Roles Information with Microsoft Ajax](https://msdn.microsoft.com/library/280f6ad9-ba1a-4fc9-b0cc-22e39e54a82d).</span></span>  
  
## <a name="settings"></a><span data-ttu-id="8cca6-154">设置</span><span class="sxs-lookup"><span data-stu-id="8cca6-154">Settings</span></span>  
 <span data-ttu-id="8cca6-155">可以使用客户端应用程序服务从现有 [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] 配置文件服务中检索用户应用程序设置。</span><span class="sxs-lookup"><span data-stu-id="8cca6-155">You can use client application services to retrieve user application settings from an existing [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] profile service.</span></span> <span data-ttu-id="8cca6-156">客户端应用程序服务 Web 设置功能与 [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)] 提供的应用程序设置功能集成。</span><span class="sxs-lookup"><span data-stu-id="8cca6-156">The client application services Web settings feature integrates with the application settings feature provided in [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)].</span></span> <span data-ttu-id="8cca6-157">若要检索 Web 设置，请先使用 Visual Studio 项目设计器的“设置”选项卡，为项目生成 `Settings` 类（在 C# 中作为 `Properties.Settings.Default` 访问，在 Visual Basic 中作为 `My.Settings` 访问）。</span><span class="sxs-lookup"><span data-stu-id="8cca6-157">To retrieve Web settings, first generate a `Settings` class (accessed as `Properties.Settings.Default` in C# and `My.Settings` in Visual Basic) for your project by using the **Settings** tab of the Visual Studio project designer.</span></span> <span data-ttu-id="8cca6-158">在“设置”选项卡上，可以使用“加载 Web 设置”按钮检索 Web 设置，并将它们添加到生成的 `Settings` 类。</span><span class="sxs-lookup"><span data-stu-id="8cca6-158">On the **Settings** tab, you can use the **Load Web Settings** button to retrieve Web settings and add them to the generated `Settings` class.</span></span> <span data-ttu-id="8cca6-159">你可以使用为所有已经过身份验证的用户或所有匿名用户的使用而配置的 Web 设置。</span><span class="sxs-lookup"><span data-stu-id="8cca6-159">You can use Web settings configured for use by all authenticated users or by all anonymous users.</span></span>  
  
 <span data-ttu-id="8cca6-160">有关应用程序设置的详细信息，请参阅[应用程序设置概述](../../../docs/framework/winforms/advanced/application-settings-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="8cca6-160">For more information about application settings, see [Application Settings Overview](../../../docs/framework/winforms/advanced/application-settings-overview.md).</span></span> <span data-ttu-id="8cca6-161">若要了解如何实现自己的设置类，而不是在 Visual Studio 中生成一个，请参阅[如何：创建应用程序设置](../../../docs/framework/winforms/advanced/how-to-create-application-settings.md)。</span><span class="sxs-lookup"><span data-stu-id="8cca6-161">For information about how to implement your own settings class instead of generating one in Visual Studio, see [How to: Create Application Settings](../../../docs/framework/winforms/advanced/how-to-create-application-settings.md).</span></span> <span data-ttu-id="8cca6-162">有关如何设置 [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] 配置文件服务的信息，请参阅[将配置文件信息用于 Microsoft Ajax](https://msdn.microsoft.com/library/91239ae6-d01c-4f4e-a433-eb9040dbed61)。</span><span class="sxs-lookup"><span data-stu-id="8cca6-162">For information about how to set up the [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] profile service, see [Using Profile Information with Microsoft Ajax](https://msdn.microsoft.com/library/91239ae6-d01c-4f4e-a433-eb9040dbed61).</span></span>  
  
## <a name="client-application-services-classes"></a><span data-ttu-id="8cca6-163">客户端应用程序服务类</span><span class="sxs-lookup"><span data-stu-id="8cca6-163">Client Application Services Classes</span></span>  
 <span data-ttu-id="8cca6-164">下表介绍了实现客户端应用程序服务功能的类。</span><span class="sxs-lookup"><span data-stu-id="8cca6-164">The following table describes the classes that implement the client application services feature.</span></span>  
  
 <span data-ttu-id="8cca6-165">仅使用主身份验证、角色和设置功能的应用程序无需直接访问这些类。</span><span class="sxs-lookup"><span data-stu-id="8cca6-165">Applications that use only the primary authentication, roles, and settings features will not have to access these classes directly.</span></span> <span data-ttu-id="8cca6-166">相反，此类应用程序将使用应用程序配置和前面部分介绍的 API，间接访问客户端应用程序服务提供程序。</span><span class="sxs-lookup"><span data-stu-id="8cca6-166">Instead, such applications will access the client application service providers indirectly using application configuration and the APIs described in the previous sections.</span></span> <span data-ttu-id="8cca6-167">你将直接访问这些类以实现用户注销和脱机功能等其他功能。</span><span class="sxs-lookup"><span data-stu-id="8cca6-167">You will access these classes directly to implement additional features, such as user logout and offline capability.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="8cca6-168">所有客户端应用程序服务 API 是同步的。</span><span class="sxs-lookup"><span data-stu-id="8cca6-168">All client application services APIs are synchronous.</span></span> <span data-ttu-id="8cca6-169">客户端应用程序服务不直接支持异步行为。</span><span class="sxs-lookup"><span data-stu-id="8cca6-169">Client application services do not directly support asynchronous behavior.</span></span>  
  
 <span data-ttu-id="8cca6-170">客户端应用程序服务提供程序实现或扩展标准 [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)] 类型，但不实现这些类型所定义的每个成员和功能。</span><span class="sxs-lookup"><span data-stu-id="8cca6-170">The client application service providers implement or extend standard [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)] types, but do not implement every member and feature defined by these types.</span></span> <span data-ttu-id="8cca6-171">例如，你无法使用客户端应用程序服务提供程序来实现用于创建新用户和管理角色成员身份的用户管理应用程序。</span><span class="sxs-lookup"><span data-stu-id="8cca6-171">For example, you cannot use the client application service providers to implement a user-management application for creating new users and managing role membership.</span></span> <span data-ttu-id="8cca6-172">若要实现此功能，当前必须使用 Web 应用程序和服务器端代码。</span><span class="sxs-lookup"><span data-stu-id="8cca6-172">To implement this functionality, you must currently use a Web application and server-side code.</span></span> <span data-ttu-id="8cca6-173">若要确定哪些成员未实现，请参阅参考文档，你可以访问此表中的链接。</span><span class="sxs-lookup"><span data-stu-id="8cca6-173">To determine which members are not implemented, see the reference documentation, which you can access from the links in this table.</span></span>  
  
|<span data-ttu-id="8cca6-174">类</span><span class="sxs-lookup"><span data-stu-id="8cca6-174">Class</span></span>|<span data-ttu-id="8cca6-175">描述</span><span class="sxs-lookup"><span data-stu-id="8cca6-175">Description</span></span>|  
|-----------|-----------------|  
|<xref:System.Web.ClientServices.ClientFormsIdentity>|<span data-ttu-id="8cca6-176">此类管理用于 Forms 身份验证的用户标识和身份验证 cookie。</span><span class="sxs-lookup"><span data-stu-id="8cca6-176">This class manages the user identity and authentication cookies for forms authentication.</span></span><br /><br /> <span data-ttu-id="8cca6-177">直接访问此类的主要目的是调用 <xref:System.Web.ClientServices.ClientFormsIdentity.RevalidateUser%2A> 方法，该方法以无提示方式重新验证用户（例如，从脱机切换到联机模式时）。</span><span class="sxs-lookup"><span data-stu-id="8cca6-177">The primary reason to access this class directly is to call the <xref:System.Web.ClientServices.ClientFormsIdentity.RevalidateUser%2A> method, which silently revalidates a user (for example, when switching from offline to online mode).</span></span><br /><br /> <span data-ttu-id="8cca6-178">使用 Forms 身份验证对用户进行身份验证后，你可以通过经 `static` <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> 属性检索的 <xref:System.Security.Principal.IPrincipal> 引用的 <xref:System.Security.Principal.IPrincipal.Identity%2A> 属性来检索此类的实例。</span><span class="sxs-lookup"><span data-stu-id="8cca6-178">After the user is authenticated using forms authentication, you can retrieve an instance of this class through the <xref:System.Security.Principal.IPrincipal.Identity%2A> property of the <xref:System.Security.Principal.IPrincipal> reference retrieved through the `static` <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> property.</span></span>|  
|<xref:System.Web.ClientServices.ClientRolePrincipal>|<span data-ttu-id="8cca6-179">此类管理用户角色。</span><span class="sxs-lookup"><span data-stu-id="8cca6-179">This class manages the user roles.</span></span><br /><br /> <span data-ttu-id="8cca6-180">此类不包含任何不能间接访问的成员。</span><span class="sxs-lookup"><span data-stu-id="8cca6-180">This class does not have any members that cannot be accessed indirectly.</span></span> <span data-ttu-id="8cca6-181">但是，对用户进行身份验证后，你可以通过 `static` <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> 属性访问此类的实例。</span><span class="sxs-lookup"><span data-stu-id="8cca6-181">However, after the user is authenticated, you can access an instance of this class through the `static` <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> property.</span></span>|  
|<xref:System.Web.ClientServices.ConnectivityStatus>|<span data-ttu-id="8cca6-182">此类提供用于将应用程序切换到脱机模式的 `static` <xref:System.Web.ClientServices.ConnectivityStatus.IsOffline%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="8cca6-182">This class provides the `static` <xref:System.Web.ClientServices.ConnectivityStatus.IsOffline%2A> property that you use to switch your application to offline mode.</span></span>|  
|<xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationCredentials>|<span data-ttu-id="8cca6-183">此类表示用户凭据。</span><span class="sxs-lookup"><span data-stu-id="8cca6-183">This class represents user credentials.</span></span><br /><br /> <span data-ttu-id="8cca6-184">实现 <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider> 接口时，你只能将此类用作 <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider.GetCredentials%2A> 方法的返回值类型。</span><span class="sxs-lookup"><span data-stu-id="8cca6-184">You will use this class only as the return value type of the <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider.GetCredentials%2A> method when you implement the <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider> interface.</span></span>|  
|<xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider>|<span data-ttu-id="8cca6-185">此类管理 Forms 身份验证的远程身份验证服务的访问。</span><span class="sxs-lookup"><span data-stu-id="8cca6-185">This class manages access to the remote authentication service for forms authentication.</span></span><br /><br /> <span data-ttu-id="8cca6-186">直接访问此类的主要目的是使用他的 <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.Logout%2A> 和 <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.UserValidated> 成员，它们未能由基类 <xref:System.Web.Security.MembershipProvider> 实现。</span><span class="sxs-lookup"><span data-stu-id="8cca6-186">The primary reason to access this class directly is to use its <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.Logout%2A> and <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.UserValidated> members, which are not implemented by the base <xref:System.Web.Security.MembershipProvider> class.</span></span> <span data-ttu-id="8cca6-187">你还可以使用 <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.ServiceUri%2A> 属性，以编程方式设置服务位置。</span><span class="sxs-lookup"><span data-stu-id="8cca6-187">You can also set the service location programmatically by using the <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.ServiceUri%2A> property.</span></span><br /><br /> <span data-ttu-id="8cca6-188">你可以通过 `static` <xref:System.Web.Security.Membership.Provider%2A?displayProperty=nameWithType> 属性检索此类的实例。</span><span class="sxs-lookup"><span data-stu-id="8cca6-188">You can retrieve an instance of this class through the `static` <xref:System.Web.Security.Membership.Provider%2A?displayProperty=nameWithType> property.</span></span>|  
|<xref:System.Web.ClientServices.Providers.ClientWindowsAuthenticationMembershipProvider>|<span data-ttu-id="8cca6-189">此类管理 Windows 身份验证。</span><span class="sxs-lookup"><span data-stu-id="8cca6-189">This class manages Windows authentication.</span></span><br /><br /> <span data-ttu-id="8cca6-190">直接访问此类的主要目的是调用他的 <xref:System.Web.ClientServices.Providers.ClientWindowsAuthenticationMembershipProvider.Logout%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="8cca6-190">The primary reason to access this class directly is to call its <xref:System.Web.ClientServices.Providers.ClientWindowsAuthenticationMembershipProvider.Logout%2A> method.</span></span> <span data-ttu-id="8cca6-191">注销后，Windows 仍将保留对用户的身份验证，但将不能访问远程应用程序服务。</span><span class="sxs-lookup"><span data-stu-id="8cca6-191">After logout, the user will still be authenticated for Windows, but will be unable to access the remote application services.</span></span><br /><br /> <span data-ttu-id="8cca6-192">你可以通过 `static` <xref:System.Web.Security.Membership.Provider%2A?displayProperty=nameWithType> 属性检索此类的实例。</span><span class="sxs-lookup"><span data-stu-id="8cca6-192">You can retrieve an instance of this class through the `static` <xref:System.Web.Security.Membership.Provider%2A?displayProperty=nameWithType> property.</span></span>|  
|<xref:System.Web.ClientServices.Providers.ClientRoleProvider>|<span data-ttu-id="8cca6-193">此类管理远程角色服务访问。</span><span class="sxs-lookup"><span data-stu-id="8cca6-193">This class manages access to the remote roles service.</span></span><br /><br /> <span data-ttu-id="8cca6-194">访问此类的主要目的是调用他的 <xref:System.Web.ClientServices.Providers.ClientRoleProvider.ResetCache%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="8cca6-194">The primary reason to access this class is to call its <xref:System.Web.ClientServices.Providers.ClientRoleProvider.ResetCache%2A> method.</span></span> <span data-ttu-id="8cca6-195">如果你的应用程序配置为使用非零角色服务缓存超时值，则这样做很有用。</span><span class="sxs-lookup"><span data-stu-id="8cca6-195">This can be useful if your application is configured to use a non-zero role service cache time-out value.</span></span> <span data-ttu-id="8cca6-196">有关详细信息，请参阅[如何：配置客户端应用程序服务](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md)。</span><span class="sxs-lookup"><span data-stu-id="8cca6-196">For more information, see [How to: Configure Client Application Services](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md).</span></span> <span data-ttu-id="8cca6-197">你还可以使用 <xref:System.Web.ClientServices.Providers.ClientRoleProvider.ServiceUri%2A> 属性，以编程方式设置服务位置。</span><span class="sxs-lookup"><span data-stu-id="8cca6-197">You can also set the service location programmatically by using the <xref:System.Web.ClientServices.Providers.ClientRoleProvider.ServiceUri%2A> property.</span></span><br /><br /> <span data-ttu-id="8cca6-198">你可以通过 `static` <xref:System.Web.Security.Roles.Provider%2A?displayProperty=nameWithType> 属性检索此类的实例。</span><span class="sxs-lookup"><span data-stu-id="8cca6-198">You can retrieve an instance of this class through the `static` <xref:System.Web.Security.Roles.Provider%2A?displayProperty=nameWithType> property.</span></span>|  
|<xref:System.Web.ClientServices.Providers.ClientSettingsProvider>|<span data-ttu-id="8cca6-199">此类管理远程 Web 设置服务访问。</span><span class="sxs-lookup"><span data-stu-id="8cca6-199">This class manages access to the remote Web settings service.</span></span><br /><br /> <span data-ttu-id="8cca6-200">访问此类的主要目的是处理 <xref:System.Web.ClientServices.Providers.ClientSettingsProvider.SettingsSaved> 事件。</span><span class="sxs-lookup"><span data-stu-id="8cca6-200">The primary reason to access this class is to handle the <xref:System.Web.ClientServices.Providers.ClientSettingsProvider.SettingsSaved> event.</span></span> <span data-ttu-id="8cca6-201">你还可以使用 <xref:System.Web.ClientServices.Providers.ClientSettingsProvider.ServiceUri%2A> 属性，以编程方式设置服务位置。</span><span class="sxs-lookup"><span data-stu-id="8cca6-201">You can also set the service location programmatically by using the <xref:System.Web.ClientServices.Providers.ClientSettingsProvider.ServiceUri%2A> property.</span></span>|  
|<xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider>|<span data-ttu-id="8cca6-202">此接口为你的应用程序提供了一个间接获取用于验证的用户凭据的方法，如本主题的身份验证部分前面的说明所述。</span><span class="sxs-lookup"><span data-stu-id="8cca6-202">This interface provides an indirect way for your application to acquire user credentials for validation, as described earlier in the Authentication section of this topic.</span></span> <span data-ttu-id="8cca6-203">有关详细信息，请参阅[如何：配置客户端应用程序服务](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md)。</span><span class="sxs-lookup"><span data-stu-id="8cca6-203">For more information, see [How to: Configure Client Application Services](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md).</span></span>|  
|<xref:System.Web.ClientServices.Providers.SettingsSavedEventArgs>|<span data-ttu-id="8cca6-204">此类提供在 <xref:System.Web.ClientServices.Providers.ClientSettingsProvider.SettingsSaved?displayProperty=nameWithType> 事件处理程序中使用的 <xref:System.Web.ClientServices.Providers.SettingsSavedEventArgs.FailedSettingsList%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="8cca6-204">This class provides a <xref:System.Web.ClientServices.Providers.SettingsSavedEventArgs.FailedSettingsList%2A> property for use within a <xref:System.Web.ClientServices.Providers.ClientSettingsProvider.SettingsSaved?displayProperty=nameWithType> event handler.</span></span>|  
|<xref:System.Web.ClientServices.Providers.UserValidatedEventArgs>|<span data-ttu-id="8cca6-205">此类提供在 <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.UserValidated> 事件处理程序中使用的 <xref:System.Web.ClientServices.Providers.UserValidatedEventArgs.UserName%2A> 属性。</span><span class="sxs-lookup"><span data-stu-id="8cca6-205">This class provides a <xref:System.Web.ClientServices.Providers.UserValidatedEventArgs.UserName%2A> property for use within a <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.UserValidated> event handler.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="8cca6-206">请参阅</span><span class="sxs-lookup"><span data-stu-id="8cca6-206">See Also</span></span>  
 [<span data-ttu-id="8cca6-207">客户端应用程序服务</span><span class="sxs-lookup"><span data-stu-id="8cca6-207">Client Application Services</span></span>](../../../docs/framework/common-client-technologies/client-application-services.md)  
 [<span data-ttu-id="8cca6-208">如何：配置客户端应用程序服务</span><span class="sxs-lookup"><span data-stu-id="8cca6-208">How to: Configure Client Application Services</span></span>](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md)  
 [<span data-ttu-id="8cca6-209">如何：使用客户端应用程序服务来实现用户登录</span><span class="sxs-lookup"><span data-stu-id="8cca6-209">How to: Implement User Login with Client Application Services</span></span>](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md)  
 [<span data-ttu-id="8cca6-210">演练：使用客户端应用程序服务</span><span class="sxs-lookup"><span data-stu-id="8cca6-210">Walkthrough: Using Client Application Services</span></span>](../../../docs/framework/common-client-technologies/walkthrough-using-client-application-services.md)  
 [<span data-ttu-id="8cca6-211">应用程序设置概述</span><span class="sxs-lookup"><span data-stu-id="8cca6-211">Application Settings Overview</span></span>](../../../docs/framework/winforms/advanced/application-settings-overview.md)  
 [<span data-ttu-id="8cca6-212">ASP.NET 应用程序服务概述</span><span class="sxs-lookup"><span data-stu-id="8cca6-212">ASP.NET Application Services Overview</span></span>](https://msdn.microsoft.com/library/1162e529-0d70-44b2-b3ab-83e60c695013)  
 [<span data-ttu-id="8cca6-213">将 Forms 身份验证用于 Microsoft Ajax</span><span class="sxs-lookup"><span data-stu-id="8cca6-213">Using Forms Authentication with Microsoft Ajax</span></span>](https://msdn.microsoft.com/library/c50f7dc5-323c-4c63-b4f3-96edfc1e815e)  
 [<span data-ttu-id="8cca6-214">将角色信息用于 Microsoft Ajax</span><span class="sxs-lookup"><span data-stu-id="8cca6-214">Using Roles Information with Microsoft Ajax</span></span>](https://msdn.microsoft.com/library/280f6ad9-ba1a-4fc9-b0cc-22e39e54a82d)  
 [<span data-ttu-id="8cca6-215">将配置文件信息用于 Microsoft Ajax</span><span class="sxs-lookup"><span data-stu-id="8cca6-215">Using Profile Information with Microsoft Ajax</span></span>](https://msdn.microsoft.com/library/91239ae6-d01c-4f4e-a433-eb9040dbed61)  
 [<span data-ttu-id="8cca6-216">ASP.NET 身份验证</span><span class="sxs-lookup"><span data-stu-id="8cca6-216">ASP.NET Authentication</span></span>](https://msdn.microsoft.com/library/fc10b0ef-4ce4-4a7f-9174-886325221ee1)  
 [<span data-ttu-id="8cca6-217">使用角色管理授权</span><span class="sxs-lookup"><span data-stu-id="8cca6-217">Managing Authorization Using Roles</span></span>](https://msdn.microsoft.com/library/01954ce4-39a2-487f-8153-a69f6f6f3195)  
 [<span data-ttu-id="8cca6-218">为 SQL Server 创建和配置应用程序服务数据库</span><span class="sxs-lookup"><span data-stu-id="8cca6-218">Creating and Configuring the Application Services Database for SQL Server</span></span>](https://msdn.microsoft.com/library/ab894e83-7e2f-4af8-a116-b1bff8f815b2)
